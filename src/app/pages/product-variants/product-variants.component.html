<!-- <h1>Viewing Product With Variant {{ productId$ | async }}</h1> -->
<ng-container *ngIf="productId$ | async as productId">
  <app-products-template [pageTitle]="pageTitle$ | async">
    <div
      class="column align-centered product"
      *ngFor="let variant of productVariants$ | async; let i = index"
      (click)="onProductClicked(productId, variant.id)"
    >
      <div class="row justify-between product-header">
        <div class="row additional-label" *ngIf="variant.additionalLabel">
          <div class="text">{{ variant.additionalLabel }}</div>
          <div class="rounded-right"></div>
        </div>
        <i
          class="fas fa-heart like"
          [class.liked]="variant.like"
          (click)="variant.like = !variant.like"
        ></i>
      </div>
      <picture class="image-wrapper">
        <!-- <source
          class="image"
          *ngFor="let media of responsiveImagesConfiguration"
          [media]="
            '(max-width: ' +
            media.max +
            'px) and (min-width: ' +
            media.min +
            'px)'
          "
          [srcset]="
            './assets/products_responsive/product' +
            (i + 1) +
            media.suffix +
            '.' +
            media.format
          "
          [type]="'image/' + media.format"
        /> -->
        <img
          class="image"
          alt="product image"
          [src]="variant.images[0].url"
        />
      </picture>
      <div class="row center justify-center spinner-wrapper" *ngIf="!variant.images[0].url"><i class="fas fa-spinner spinner"></i></div>
      <div class="row justify-center colors">
        <div
          class="row color-wrapper"
          *ngFor="let color of variant.colors"
          [class.color-selected]="color === variant.selectedColor"
          (click)="variant.selectedColor = color"
        >
          <div class="color" [style.background-color]="color"></div>
        </div>
      </div>
      <div class="title">{{ variant.name }}</div>
      <div class="row justify-center price">
        {{ variant.price.salePrice | currency : currency }}
      </div>
    </div>
  </app-products-template>
</ng-container>
